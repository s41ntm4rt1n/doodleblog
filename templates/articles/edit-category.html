{% extends 'base.html' %}
{% load static %}
{% block title %}Home{% endblock %}
{% block content %}
    <div class="yx-tvj">
        {% include 'components/sidebar.html' %}
      <main class="yx-ya z-index-1 flex-grow yx-gh yx-t_d yx-t_g yx-tk_ yx-tqm yx-njv">
      {% include 'components/main-header.html' %}
      {% if messages %}
      {% for message in messages %}
          {% include 'components/popup.html'%}
      {% endfor %}
      {% endif %}
        <div class="yx-t yx-gm yx-padding-rr">
          <header class="yx-lw">
            <h1 class="text-lg">Category</h1>
          </header>
          {% if category %}
          <form action="{% url 'update_category' category_slug=category.slug %}" method="post">
            {% csrf_token %}
          
          <ul class="grid gap-sm">
            <li><label class="form-label margin-bottom-xxs" for="title">Name</label> <input class="form-control yx-me" type="text" name="title" id="title" value="{{category.title}}" required></li>
            <li>
              <label class="form-label margin-bottom-xxs" for="category-slug">Slug</label> <input class="form-control yx-me" type="text" name="category-slug" id="category-slug" value="{{category.slug}}" disabled>
              <p class="text-xs color-contrast-medium yx-la">URL-friendly version of the name</p>
            </li>
            <li class="yx-pq"><a class="text-sm color-accent yx-cr" href="#0" aria-controls="dialog-update-confirmation"> <button class="btn btn--primary yx-padding-nm" type="submit">Save</button></a></li>
          </ul>
        </form>
          {%endif%}
        </div>
      </main>
    </div>
    <div id="dialog-delete-confirmation" class="dialog js-dialog" data-animation="on">
      <div class="yx-nxa yx-gd" role="alertdialog">
        <div class="text-component yx-db">
          <h4>Are you sure you want to delete this category?</h4>
          <p class="color-contrast-medium">This action cannot be undone.</p>
        </div>
        <footer class="yx-ll">
          <div class="flex yx-fu gap-xs yx-a_"><button class="btn btn--subtle js-dialog__close">Cancel</button> <button class="btn btn--accent">Delete</button></div>
        </footer>
      </div>
    </div>
    {% endblock %}